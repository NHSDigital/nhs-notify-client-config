{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "ClientMutatedEvent",
  "properties": {
    "data": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "apimApplication": {
              "additionalProperties": false,
              "description": "ApimApplication",
              "properties": {
                "apimId": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "apimId"
              ],
              "type": "object"
            },
            "featureFlags": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "id": {
              "type": "string"
            },
            "meshMailbox": {
              "additionalProperties": false,
              "description": "MeshMailbox",
              "properties": {
                "id": {
                  "type": "string"
                },
                "mailboxId": {
                  "type": "string"
                },
                "workflowIdCompletedRequestItemsReport": {
                  "type": "string"
                },
                "workflowIdReceiveRequestAck": {
                  "type": "string"
                },
                "workflowIdSuffix": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "mailboxId"
              ],
              "type": "object"
            },
            "name": {
              "type": "string"
            },
            "quota": {
              "additionalProperties": false,
              "description": "ClientQuota",
              "properties": {
                "initialQuota": {
                  "type": "number"
                },
                "periodSeconds": {
                  "type": "number"
                },
                "tps": {
                  "type": "number"
                }
              },
              "required": [
                "tps",
                "periodSeconds",
                "initialQuota"
              ],
              "type": "object"
            },
            "rfrCodes": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "senderOdsCode": {
              "type": "string"
            },
            "suppressionFilters": {
              "items": {
                "additionalProperties": false,
                "description": "SuppressionFilter",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "pattern": {
                    "type": "string"
                  }
                },
                "required": [
                  "id",
                  "pattern"
                ],
                "type": "object"
              },
              "type": "array"
            }
          },
          "required": [
            "id",
            "name",
            "apimApplication",
            "featureFlags",
            "rfrCodes",
            "suppressionFilters"
          ],
          "type": "object"
        },
        {
          "additionalProperties": false,
          "properties": {
            "apimApplication": {
              "additionalProperties": false,
              "description": "ApimApplication",
              "properties": {
                "apimId": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "apimId"
              ],
              "type": "object"
            },
            "featureFlags": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "id": {
              "type": "string"
            },
            "meshMailbox": {
              "additionalProperties": false,
              "description": "MeshMailbox",
              "properties": {
                "id": {
                  "type": "string"
                },
                "mailboxId": {
                  "type": "string"
                },
                "workflowIdCompletedRequestItemsReport": {
                  "type": "string"
                },
                "workflowIdReceiveRequestAck": {
                  "type": "string"
                },
                "workflowIdSuffix": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "mailboxId"
              ],
              "type": "object"
            },
            "name": {
              "type": "string"
            },
            "quota": {
              "additionalProperties": false,
              "description": "ClientQuota",
              "properties": {
                "initialQuota": {
                  "type": "number"
                },
                "periodSeconds": {
                  "type": "number"
                },
                "tps": {
                  "type": "number"
                }
              },
              "required": [
                "tps",
                "periodSeconds",
                "initialQuota"
              ],
              "type": "object"
            },
            "rfrCodes": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "senderOdsCode": {
              "type": "string"
            },
            "suppressionFilters": {
              "items": {
                "additionalProperties": false,
                "description": "SuppressionFilter",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "pattern": {
                    "type": "string"
                  }
                },
                "required": [
                  "id",
                  "pattern"
                ],
                "type": "object"
              },
              "type": "array"
            }
          },
          "required": [
            "id",
            "name",
            "meshMailbox",
            "featureFlags",
            "rfrCodes",
            "suppressionFilters"
          ],
          "type": "object"
        }
      ]
    },
    "datacontenttype": {
      "const": "application/json",
      "type": "string"
    },
    "dataschema": {
      "pattern": "^https:\\/\\/notify\\.nhs\\.uk\\/events\\/schemas\\/client-mutated\\/1.\\d+\\.\\d+\\.json$",
      "type": "string"
    },
    "dataschemaversion": {
      "pattern": "^1\\.\\d+\\.\\d+$",
      "type": "string"
    },
    "id": {
      "type": "string"
    },
    "plane": {
      "const": "control",
      "type": "string"
    },
    "source": {
      "type": "string"
    },
    "specversion": {
      "const": "1.0",
      "type": "string"
    },
    "subject": {
      "type": "string"
    },
    "time": {
      "type": "string"
    },
    "type": {
      "const": "uk.nhs.notify.config.ClientMutated.V1",
      "type": "string"
    }
  },
  "required": [
    "dataschema",
    "dataschemaversion",
    "type",
    "id",
    "source",
    "specversion",
    "subject",
    "time",
    "datacontenttype",
    "plane",
    "data"
  ],
  "type": "object"
}
